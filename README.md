<br>
<br>

<p align="center">
  <img src="/vaco.png"  width="50%">
</p>

<br>
<br>

> ë°”ë‹ë¼ì½”ë”©ì˜ ëª¨ë“  ê³¼ì œëŠ” ì‹¤ì œ ê¸°ì—…ì—ì„œ ì£¼ì–´ì§€ëŠ” ê³¼ì œì— ê¸°ë°˜í•˜ì—¬ ì œì‘ë˜ì—ˆìœ¼ë©°, ì €ì‘ê¶Œë²•ì˜ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ê°œì¸ ë¸”ë¡œê·¸ ë“±ì˜ ê³µê°œëœ ì¥ì†Œì— ê´€ë ¨ ë‚´ìš©ì„ ê³µìœ í•˜ê±°ë‚˜ ê°œì¸ì ìœ¼ë¡œ ì§€ì¸ë“¤ê³¼ ê³µìœ í•˜ëŠ” ë“±ì˜ í–‰ìœ„ëŠ” ì‚¼ê°€í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

<br>
<br>

# ğŸ§¼ Welcome to Barco Clean Server Team
<br>

<p align="center">
  <img src="/barco.png"  width="100%">
</p>

<br>

> ìš°ë¦¬ëŠ” ì˜¤ëŠ˜ë„ ì…”ì¸  í•˜ë‚˜ì— ì§„ì‹¬ì…ë‹ˆë‹¤.
<br>

_ğŸ“ 14 Rue des Archives, 75004 Paris, France - Paris HQ_

<br>

**Barco Clean**ì€ **í”„ë‘ìŠ¤ íŒŒë¦¬ 15êµ¬**ì— ë³¸ì‚¬ë¥¼ ë‘” ê¸‰ì„±ì¥ ì¤‘ì¸ ì˜¨ë””ë§¨ë“œ ì„¸íƒ ìŠ¤íƒ€íŠ¸ì—…ì…ë‹ˆë‹¤.
**ì‹œë¦¬ì¦ˆ A íˆ¬ì ì™„ë£Œ**, **MAU 40,000ëª… ì´ìƒ**, **ì¼ í‰ê·  ì„¸íƒ ìš”ì²­ 1,500ê±´**ì„ ì²˜ë¦¬í•˜ëŠ” ì‹¤ì‹œê°„ ë¬¼ë¥˜ ì„œë¹„ìŠ¤ë¡œ ì„±ì¥ ì¤‘ì…ë‹ˆë‹¤.

<br>
<br>

## ğŸ¯ ì´ë²ˆ ë¯¸ì…˜ì˜ ëª©í‘œ
<br>

ìš´ì˜íŒ€ì€ í•˜ë£¨ì—ë„ ìˆ˜ì‹­ ê±´ì˜ ìˆ˜ê±° ìš”ì²­ê³¼ ë³€ê²½ ìš”ì²­, ë¬¸ì˜ì— ì‹œë‹¬ë¦¬ê³  ìˆìŠµë‹ˆë‹¤.
**ìš°ë¦¬ëŠ” ì´ í˜¼ë€ì„ ëë‚¼ ë°±ì˜¤í”¼ìŠ¤ APIë¥¼ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.**

ë‹¹ì‹ ì€ ì´ì œ ë§‰ í•©ë¥˜í•œ ë°±ì—”ë“œ íŒ€ì› **Ã‰mile**ì…ë‹ˆë‹¤.
**ì´ë²ˆ ë¯¸ì…˜ì˜ ëª©í‘œëŠ” ìš´ì˜íŒ€ì„ ìœ„í•œ ì•ˆì •ì ì¸ ë°±ì—”ë“œ APIë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.**

<br>
<br>

## ğŸ’¼ ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ ì—…ë¬´ ìš”ì²­
<br>

> ì´ë²ˆ ë¯¸ì…˜ì—ì„œëŠ” í”„ë¡ íŠ¸ì—”ë“œ íŒ€ì´ API ìŠ¤í™ì„ ê¸°ë‹¤ë¦¬ê³  ìˆìŠµë‹ˆë‹¤.
> REST API ìŠ¤í™ì€ ì´ë¯¸ ì •ì˜ë˜ì–´ ìˆìœ¼ë©°, ê° ì—”ë“œí¬ì¸íŠ¸ë³„ ìš”ì²­/ì‘ë‹µ í˜•ì‹ê³¼ ì˜¤ë¥˜ ì¼€ì´ìŠ¤ê°€ ìƒì„¸íˆ ëª…ì‹œë˜ì–´ ìˆìŠµë‹ˆë‹¤.
> í”„ë¡ íŠ¸ì—”ë“œ íŒ€ì´ ê°œë°œì„ ì‹œì‘í•  ìˆ˜ ìˆë„ë¡, ì´ ìŠ¤í™ì„ ë°”íƒ•ìœ¼ë¡œ ë°±ì—”ë“œì˜ ì „ì²´ íë¦„ì„ ì„¤ê³„í•˜ê³  êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.

<br>

### âœ… (ê³ ê°) ìˆ˜ê±° ìš”ì²­ ë“±ë¡

- ê³ ê°ì€ ì´ë¦„, ì£¼ì†Œ, ì „í™”ë²ˆí˜¸, ìš”ì²­ì‚¬í•­ì„ ì…ë ¥í•˜ê³  ìˆ˜ê±° ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.
- ìš”ì²­ì´ ì„œë²„ì— ì €ì¥ë˜ê³ , ì´í›„ ì¡°íšŒ/ì·¨ì†Œ/ìˆ˜ì • ëŒ€ìƒì´ ë©ë‹ˆë‹¤.

<br>

#### API êµ¬ì¡°

```
POST /api/pickups
Content-Type: application/json

Request Body:
{
  "customerName": string,     // í•„ìˆ˜, 2-50ì
  "address": string,          // í•„ìˆ˜, 5-200ì
  "phoneNumber": string,      // í•„ìˆ˜, ì „í™”ë²ˆí˜¸ í˜•ì‹ (010-XXXX-XXXX)
  "requestDetails": string    // í•„ìˆ˜, 10-1000ì
}
```

<br>

<details>
   <summary>ì„±ê³µ ì¼€ì´ìŠ¤</summary>

```
POST /api/pickups
Content-Type: application/json

{
  "customerName": "ê¹€ë°”ì½”",
  "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123",
  "phoneNumber": "010-1234-5678",
  "requestDetails": "ì…”ì¸  3ë²Œ, ë°”ì§€ 2ë²Œ ì„¸íƒ ë¶€íƒë“œë¦½ë‹ˆë‹¤. ì…”ì¸ ëŠ” ìŠ¤íƒ€ì¹˜ ì²˜ë¦¬í•´ì£¼ì„¸ìš”."
}

Response (201 Created):
{
  "id": "507f1f77bcf86cd799439011",
  "customerName": "ê¹€ë°”ì½”",
  "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123",
  "phoneNumber": "010-1234-5678",
  "requestDetails": "ì…”ì¸  3ë²Œ, ë°”ì§€ 2ë²Œ ì„¸íƒ ë¶€íƒë“œë¦½ë‹ˆë‹¤. ì…”ì¸ ëŠ” ìŠ¤íƒ€ì¹˜ ì²˜ë¦¬í•´ì£¼ì„¸ìš”.",
  "status": "PENDING",
  "createdAt": "2024-03-15T14:30:00Z",
  "updatedAt": "2024-03-15T14:30:00Z"
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - í•„ìˆ˜ í•„ë“œ ëˆ„ë½</summary>

```
POST /api/pickups
Content-Type: application/json

{
  "customerName": "ê¹€ë°”ì½”",
  "phoneNumber": "010-1234-5678"
}

Response (400 Bad Request):
{
  "error": {
    "code": "MISSING_REQUIRED_FIELD",
    "message": "í•„ìˆ˜ í•„ë“œê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤.",
    "details": {
      "field": "address",
      "constraint": "required"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ì´ë¦„ ê¸¸ì´</summary>

```
POST /api/pickups
Content-Type: application/json

{
  "customerName": "ê¹€",
  "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123",
  "phoneNumber": "010-1234-5678",
  "requestDetails": "ì…”ì¸  3ë²Œ ì„¸íƒ ë¶€íƒë“œë¦½ë‹ˆë‹¤."
}

Response (400 Bad Request):
{
  "error": {
    "code": "INVALID_NAME_LENGTH",
    "message": "ì´ë¦„ì€ 2-50ì ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤.",
    "details": {
      "field": "customerName",
      "value": "ê¹€",
      "constraint": "length: 2-50"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ì—°ë½ì²˜ í˜•ì‹</summary>

```
POST /api/pickups
Content-Type: application/json

{
  "customerName": "ê¹€ë°”ì½”",
  "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123",
  "phoneNumber": "01012345678",
  "requestDetails": "ì…”ì¸  3ë²Œ ì„¸íƒ ë¶€íƒë“œë¦½ë‹ˆë‹¤."
}

Response (400 Bad Request):
{
  "error": {
    "code": "INVALID_PHONE_FORMAT",
    "message": "ì˜¬ë°”ë¥¸ ì „í™”ë²ˆí˜¸ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.",
    "details": {
      "field": "phoneNumber",
      "value": "01012345678",
      "constraint": "format: XXX-XXXX-XXXX"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ìš”ì²­ íšŸìˆ˜ ì´ˆê³¼</summary>

```
POST /api/pickups
Content-Type: application/json

{
  "customerName": "ê¹€ë°”ì½”",
  "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123",
  "phoneNumber": "010-1234-5678",
  "requestDetails": "ì…”ì¸  3ë²Œ ì„¸íƒ ë¶€íƒë“œë¦½ë‹ˆë‹¤."
}

Response (429 Too Many Requests):
{
  "error": {
    "code": "RATE_LIMIT_EXCEEDED",
    "message": "ìš”ì²­ íšŸìˆ˜ê°€ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",
    "details": {
      "retryAfter": 60,
      "limit": 100,
      "remaining": 0
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜</summary>

```
POST /api/pickups
Content-Type: application/json

{
  "customerName": "ê¹€ë°”ì½”",
  "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123",
  "phoneNumber": "010-1234-5678",
  "requestDetails": "ì…”ì¸  3ë²Œ ì„¸íƒ ë¶€íƒë“œë¦½ë‹ˆë‹¤."
}

Response (500 Internal Server Error):
{
  "error": {
    "code": "DATABASE_ERROR",
    "message": "ë°ì´í„°ë² ì´ìŠ¤ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",
    "details": {
      "errorCode": "DB_CONNECTION_ERROR",
      "timestamp": "2024-03-15T14:30:00Z"
    }
  }
}
```
</details>

<br>

### âœ… (ìš´ì˜íŒ€) ìˆ˜ê±° ìš”ì²­ ì¡°íšŒ

- ìš´ì˜íŒ€ì€ ë‚ ì§œ ë²”ìœ„ ê¸°ë°˜ìœ¼ë¡œ ìš”ì²­ ë‚´ì—­ì„ í™•ì¸í•˜ê³  ì‹¶ì–´ í•©ë‹ˆë‹¤.
- `?start=2024-01-01&end=2024-01-03` ê°™ì€ í˜•ì‹ì˜ ë‚ ì§œ ì¿¼ë¦¬ë¡œ í•„í„°ë§ì´ í•„ìš”í•©ë‹ˆë‹¤.
- ì¡°íšŒ ë‚ ì§œì— ëŒ€í•œ ì œí•œì€ íŠ¹ë³„íˆ ì—†ìŠµë‹ˆë‹¤.

#### API êµ¬ì¡°

```
GET /api/pickups?start=2024-03-01&end=2024-03-15&page=1&limit=20&status=PENDING

Query Parameters:
- start: string (í•„ìˆ˜) - ISO 8601 í˜•ì‹ì˜ ì‹œì‘ ë‚ ì§œ (YYYY-MM-DD)
- end: string (í•„ìˆ˜) - ISO 8601 í˜•ì‹ì˜ ì¢…ë£Œ ë‚ ì§œ (YYYY-MM-DD)
- page: number (ì„ íƒ) - í˜ì´ì§€ ë²ˆí˜¸, ê¸°ë³¸ê°’ 1
- limit: number (ì„ íƒ) - í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜, ê¸°ë³¸ê°’ 20, ìµœëŒ€ 100
- status: string (ì„ íƒ) - í•„í„°ë§í•  ìƒíƒœê°’ (PENDING, CANCELLED, UPDATED)
```

<br>

<details>
   <summary>ì„±ê³µ ì¼€ì´ìŠ¤</summary>

```
GET /api/pickups?start=2024-03-01&end=2024-03-15&page=1&limit=10&status=PENDING

Response (200 OK):
{
  "pickups": [
    {
      "id": "507f1f77bcf86cd799439011",
      "customerName": "ê¹€ë°”ì½”",
      "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123",
      "phoneNumber": "010-1234-5678",
      "requestDetails": "ì…”ì¸  3ë²Œ, ë°”ì§€ 2ë²Œ ì„¸íƒ ë¶€íƒë“œë¦½ë‹ˆë‹¤.",
      "status": "PENDING",
      "createdAt": "2024-03-15T14:30:00Z",
      "updatedAt": "2024-03-15T14:30:00Z"
    }
  ],
  "total": 1,
  "page": 1,
  "limit": 10,
  "totalPages": 1
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ë‚ ì§œ í˜•ì‹</summary>

```
GET /api/pickups?start=2024-03-01&end=invalid-date

Response (400 Bad Request):
{
  "error": {
    "code": "INVALID_DATE_FORMAT",
    "message": "ì˜¬ë°”ë¥¸ ë‚ ì§œ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.",
    "details": {
      "field": "end",
      "value": "invalid-date",
      "constraint": "YYYY-MM-DD"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ë‚ ì§œ ë²”ìœ„</summary>

```
GET /api/pickups?start=2024-03-15&end=2024-03-01

Response (400 Bad Request):
{
  "error": {
    "code": "INVALID_DATE_RANGE",
    "message": "ì¢…ë£Œì¼ì´ ì‹œì‘ì¼ë³´ë‹¤ ì´ì „ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
    "details": {
      "start": "2024-03-15",
      "end": "2024-03-01"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - í˜ì´ì§€ ë²ˆí˜¸</summary>

```
GET /api/pickups?start=2024-03-01&end=2024-03-15&page=0

Response (400 Bad Request):
{
  "error": {
    "code": "INVALID_PAGE_NUMBER",
    "message": "í˜ì´ì§€ ë²ˆí˜¸ëŠ” 1 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.",
    "details": {
      "field": "page",
      "value": 0,
      "constraint": "min: 1"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - limit</summary>

```
GET /api/pickups?start=2024-03-01&end=2024-03-15&limit=150

Response (400 Bad Request):
{
  "error": {
    "code": "INVALID_LIMIT",
    "message": "í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜ëŠ” ìµœëŒ€ 100ê°œê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤.",
    "details": {
      "field": "limit",
      "value": 150,
      "constraint": "max: 100"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë°ì´í„°</summary>

```
GET /api/pickups?start=2024-03-20&end=2024-03-21

Response (404 Not Found):
{
  "error": {
    "code": "NO_RECORDS_FOUND",
    "message": "í•´ë‹¹ ê¸°ê°„ì˜ ìˆ˜ê±° ìš”ì²­ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.",
    "details": {
      "start": "2024-03-20",
      "end": "2024-03-21"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜</summary>

```
GET /api/pickups?start=2024-03-01&end=2024-03-15

Response (500 Internal Server Error):
{
  "error": {
    "code": "CACHE_ERROR",
    "message": "ìºì‹œ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",
    "details": {
      "errorCode": "REDIS_CONNECTION_ERROR",
      "timestamp": "2024-03-15T14:30:00Z"
    }
  }
}
```
</details>

<br>

### âœ… (ê³ ê°) ìˆ˜ê±° ìš”ì²­ ì·¨ì†Œ

- ì ‘ìˆ˜ í›„ 1ì‹œê°„ ì´ë‚´ì¼ ê²½ìš°ì—ë§Œ ì·¨ì†Œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- 1ì‹œê°„ì´ ì§€ë‚œ ìš”ì²­ì€ ì·¨ì†Œ ë¶ˆê°€ì´ë©°, í”„ë¡ íŠ¸ëŠ” ì„œë²„ ì‘ë‹µì„ ê¸°ë°˜ìœ¼ë¡œ ì•ˆë‚´ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

<br>

#### API êµ¬ì¡°

```
DELETE /api/pickups/:id

Path Parameters:
- id: string (í•„ìˆ˜) - ìˆ˜ê±° ìš”ì²­ ID
```

<br>

<details>
   <summary>ì„±ê³µ ì¼€ì´ìŠ¤</summary>

```
DELETE /api/pickups/507f1f77bcf86cd799439011

Response (200 OK):
{
  "id": "507f1f77bcf86cd799439011",
  "status": "CANCELLED",
  "cancelledAt": "2024-03-15T15:30:00Z"
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ì‹œê°„ ì´ˆê³¼</summary>

```
DELETE /api/pickups/507f1f77bcf86cd799439011

Response (400 Bad Request):
{
  "error": {
    "code": "CANCELLATION_TIME_EXPIRED",
    "message": "ì·¨ì†Œ ê°€ëŠ¥ ì‹œê°„(1ì‹œê°„)ì´ ê²½ê³¼í–ˆìŠµë‹ˆë‹¤.",
    "details": {
      "createdAt": "2024-03-15T14:30:00Z",
      "currentTime": "2024-03-15T16:00:00Z",
      "timeElapsed": "1ì‹œê°„ 30ë¶„"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ì´ë¯¸ ì·¨ì†Œëœ ìš”ì²­</summary>

```
DELETE /api/pickups/507f1f77bcf86cd799439011

Response (400 Bad Request):
{
  "error": {
    "code": "ALREADY_CANCELLED",
    "message": "ì´ë¯¸ ì·¨ì†Œëœ ìš”ì²­ì…ë‹ˆë‹¤.",
    "details": {
      "status": "CANCELLED",
      "cancelledAt": "2024-03-15T15:00:00Z"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìš”ì²­</summary>

```
DELETE /api/pickups/nonexistent_id

Response (404 Not Found):
{
  "error": {
    "code": "PICKUP_NOT_FOUND",
    "message": "í•´ë‹¹ ìˆ˜ê±° ìš”ì²­ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
    "details": {
      "requestId": "nonexistent_id"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ì˜ëª»ëœ ìš”ì²­</summary>

```
DELETE /api/pickups/invalid-id-format

Response (400 Bad Request):
{
  "error": {
    "code": "INVALID_REQUEST_ID",
    "message": "ì˜ëª»ëœ ìš”ì²­ ID í˜•ì‹ì…ë‹ˆë‹¤.",
    "details": {
      "field": "id",
      "value": "invalid-id-format",
      "constraint": "24ìë¦¬ 16ì§„ìˆ˜ ë¬¸ìì—´"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ì´ë¯¸ ì²˜ë¦¬ ì¤‘ì¸ ìš”ì²­</summary>

```
DELETE /api/pickups/507f1f77bcf86cd799439011

Response (409 Conflict):
{
  "error": {
    "code": "REQUEST_IN_PROCESS",
    "message": "ì´ë¯¸ ì²˜ë¦¬ ì¤‘ì¸ ìš”ì²­ì…ë‹ˆë‹¤.",
    "details": {
      "status": "PROCESSING",
      "startedAt": "2024-03-15T15:00:00Z"
    }
  }
}
```
</details>

<br>

### âœ… (ê³ ê°) ìˆ˜ê±° ìš”ì²­ ìˆ˜ì •

- ìš”ì²­ì‚¬í•­ í•„ë“œë§Œ ìˆ˜ì • ê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ë¦„, ì£¼ì†Œ, ì „í™”ë²ˆí˜¸ëŠ” ë¶ˆê°€í•©ë‹ˆë‹¤.
- ìˆ˜ì •ëœ ìš”ì²­ì€ ìš´ì˜íŒ€ì´ ë‹¤ì‹œ í™•ì¸í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

<br>

#### API êµ¬ì¡°

```
PATCH /api/pickups/:id
Content-Type: application/json

Path Parameters:
- id: string (í•„ìˆ˜) - ìˆ˜ê±° ìš”ì²­ ID

Request Body:
{
  "requestDetails": string    // í•„ìˆ˜, 10-1000ì
}
```

<details>
   <summary>ì„±ê³µ ì¼€ì´ìŠ¤</summary>

```
PATCH /api/pickups/507f1f77bcf86cd799439011
Content-Type: application/json

{
  "requestDetails": "ì…”ì¸  3ë²Œ, ë°”ì§€ 2ë²Œ, ì–‘ë³µ 1ë²Œ ì„¸íƒ ë¶€íƒë“œë¦½ë‹ˆë‹¤. ì…”ì¸ ëŠ” ìŠ¤íƒ€ì¹˜ ì²˜ë¦¬í•´ì£¼ì„¸ìš”."
}

Response (200 OK):
{
  "id": "507f1f77bcf86cd799439011",
  "customerName": "ê¹€ë°”ì½”",
  "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123",
  "phoneNumber": "010-1234-5678",
  "requestDetails": "ì…”ì¸  3ë²Œ, ë°”ì§€ 2ë²Œ, ì–‘ë³µ 1ë²Œ ì„¸íƒ ë¶€íƒë“œë¦½ë‹ˆë‹¤. ì…”ì¸ ëŠ” ìŠ¤íƒ€ì¹˜ ì²˜ë¦¬í•´ì£¼ì„¸ìš”.",
  "status": "UPDATED",
  "updatedAt": "2024-03-15T16:30:00Z"
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ìˆ˜ì • ë¶ˆê°€ëŠ¥í•œ í•„ë“œ í¬í•¨</summary>

```
PATCH /api/pickups/507f1f77bcf86cd799439011
Content-Type: application/json

{
  "customerName": "ìƒˆì´ë¦„",
  "requestDetails": "ìˆ˜ì •ëœ ìš”ì²­ì‚¬í•­"
}

Response (400 Bad Request):
{
  "error": {
    "code": "INVALID_UPDATE_FIELD",
    "message": "ìˆ˜ì •í•  ìˆ˜ ì—†ëŠ” í•„ë“œê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.",
    "details": {
      "field": "customerName",
      "constraint": "readonly"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - í•„ìˆ˜ í•­ëª© ëˆ„ë½</summary>

```
PATCH /api/pickups/507f1f77bcf86cd799439011
Content-Type: application/json

{}

Response (400 Bad Request):
{
  "error": {
    "code": "MISSING_REQUEST_DETAILS",
    "message": "ìš”ì²­ì‚¬í•­ í•„ë“œëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.",
    "details": {
      "field": "requestDetails",
      "constraint": "required"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - í•„ìˆ˜ í•­ëª© ê¸¸ì´</summary>

```
PATCH /api/pickups/507f1f77bcf86cd799439011
Content-Type: application/json

{
  "requestDetails": "ì§§ìŒ"
}

Response (400 Bad Request):
{
  "error": {
    "code": "INVALID_REQUEST_LENGTH",
    "message": "ìš”ì²­ì‚¬í•­ì€ 10-1000ì ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤.",
    "details": {
      "field": "requestDetails",
      "value": "ì§§ìŒ",
      "constraint": "length: 10-1000"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ì·¨ì†Œëœ ìš”ì²­</summary>

```
PATCH /api/pickups/507f1f77bcf86cd799439011
Content-Type: application/json

{
  "requestDetails": "ìˆ˜ì •ëœ ìš”ì²­ì‚¬í•­"
}

Response (409 Conflict):
{
  "error": {
    "code": "ALREADY_CANCELLED",
    "message": "ì·¨ì†Œëœ ìš”ì²­ì€ ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
    "details": {
      "status": "CANCELLED",
      "cancelledAt": "2024-03-15T15:30:00Z"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ì²˜ë¦¬ ì¤‘ì¸ ìš”ì²­</summary>

```
PATCH /api/pickups/507f1f77bcf86cd799439011
Content-Type: application/json

{
  "requestDetails": "ìˆ˜ì •ëœ ìš”ì²­ì‚¬í•­"
}

Response (409 Conflict):
{
  "error": {
    "code": "REQUEST_IN_PROCESS",
    "message": "ì²˜ë¦¬ ì¤‘ì¸ ìš”ì²­ì€ ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
    "details": {
      "status": "PROCESSING",
      "startedAt": "2024-03-15T15:00:00Z"
    }
  }
}
```
</details>

<details>
   <summary>ì˜¤ë¥˜ ì¼€ì´ìŠ¤ - ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜</summary>

```
PATCH /api/pickups/507f1f77bcf86cd799439011
Content-Type: application/json

{
  "requestDetails": "ìˆ˜ì •ëœ ìš”ì²­ì‚¬í•­"
}

Response (500 Internal Server Error):
{
  "error": {
    "code": "TRANSACTION_ERROR",
    "message": "ìš”ì²­ ìˆ˜ì • ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",
    "details": {
      "errorCode": "DB_TRANSACTION_FAILED",
      "timestamp": "2024-03-15T16:30:00Z"
    }
  }
}
```
</details>

<br>
<br>

## ğŸ“‹ CTO Louisì˜ ì¶”ê°€ ì§€ì‹œ
<br>

### ğŸ”¸ ì—ëŸ¬ í•¸ë“¤ë§ ë¡œì§ì„ ì‘ì§‘ì‹œì¼œ ì£¼ì„¸ìš”.

ì–´ë–»ê²Œ í•˜ë©´ ì •í™•í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ì—ëŸ¬ë¥¼ ë‹¤ë£¨ë©° í´ë¼ì´ì–¸íŠ¸ì™€ ì†Œí†µí•  ìˆ˜ ìˆì„ì§€ ì¶©ë¶„íˆ ê³ ë¯¼í•´ë³´ì„¸ìš”. ë°±ì—”ë“œ ì‘ì—…ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„ì…ë‹ˆë‹¤.

<br>

### ğŸ”¸ RESTful API ì„¤ê³„ ì›ì¹™ì„ ë°˜ë“œì‹œ ëª…ì‹¬í•˜ì„¸ìš”.

ìš°ë¦¬ì˜ ë°±ì—”ë“œ ì•„í‚¤í…ì²˜ëŠ” API URL, HTTP Method, ìƒíƒœ ì½”ë“œ, ë¦¬ì†ŒìŠ¤ ì¤‘ì‹¬ ì„¤ê³„ë¥¼ ì¤€ìˆ˜í•©ë‹ˆë‹¤.

> ğŸ“˜ ì°¸ê³ : [NHN ê¸°ìˆ  ë¸”ë¡œê·¸ RESTful API](https://meetup.nhncloud.com/posts/92)

> ğŸ“˜ ì°¸ê³ : [RESTful Best Practices - MDN](https://developer.mozilla.org/ko/docs/Glossary/REST)

<br>

### ğŸ”¸ ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ìŠ¤ë¥¼ ê³ ë ¤í•˜ì„¸ìš”.

> ìš´ì˜íŒ€ì´ íŠ¹ì • ë‚ ì§œì˜ ìš”ì²­ì„ ìì£¼ ê²€ìƒ‰í•œë‹¤ê³ ?
> ê·¸ë ‡ë‹¤ë©´, ì¿¼ë¦¬ ì„±ëŠ¥ì„ ìœ„í•´ ì¸ë±ìŠ¤ë¥¼ ì–´ë–»ê²Œ ì„¤ì •í•´ì•¼ í• ì§€ ë¨¼ì € ê³ ë¯¼í•´ë³´ì„¸ìš”.

í•„ìš”í•˜ë‹¤ê³  íŒë‹¨ë˜ëŠ” í•„ë“œì— ì¸ë±ìŠ¤ë¥¼ ì„¤ì •í•´ë³´ì„¸ìš”.

> ğŸ“˜ ì°¸ê³ : [MongoDB Indexes ê³µì‹ ë¬¸ì„œ](https://www.mongodb.com/ko-kr/docs/manual/indexes/)

<br>

### ğŸ”¸ ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ì„ ê³ ë ¤í•˜ì„¸ìš”.

> ìˆ˜ê±° ìš”ì²­ì˜ ìƒíƒœ ë³€ê²½ì´ë‚˜ ìˆ˜ì • ì‘ì—…ì´ ì‹¤íŒ¨í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”?
> ë°ì´í„°ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.

ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì—ì„œ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ë¥¼ ê³ ë ¤í•´ë³´ì„¸ìš”:
- ìˆ˜ê±° ìš”ì²­ ì·¨ì†Œ ì‹œ ìƒíƒœ ë³€ê²½ê³¼ ì·¨ì†Œ ì‹œê°„ ê¸°ë¡
- ìš”ì²­ ìˆ˜ì • ì‹œ ì´ì „ ìƒíƒœ ê¸°ë¡ê³¼ ìƒˆë¡œìš´ ìƒíƒœ ì—…ë°ì´íŠ¸
- ì—¬ëŸ¬ ë¬¸ì„œë¥¼ ë™ì‹œì— ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ì‘ì—…

> ğŸ“˜ ì°¸ê³ : [MongoDB Transactions ê³µì‹ ë¬¸ì„œ](https://www.mongodb.com/ko-kr/docs/manual/core/transactions/)

<br>

### ğŸ”¸ In-Memory ìºì‹œ ì „ëµì„ ë„ì…í•´ë³´ì„¸ìš”.

> ë™ì¼í•œ ë‚ ì§œì˜ ìš”ì²­ì„ ë°˜ë³µì ìœ¼ë¡œ ì¡°íšŒí•œë‹¤ë©´,
> Redis ê°™ì€ ì¸ë©”ëª¨ë¦¬ ìºì‹œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ê³ ë ¤í•´ë³´ì„¸ìš”.

ë‹¤ìŒ ì‚¬ë¡€ë“¤ì„ ì°¸ê³ í•´ë³´ì„¸ìš”:

- Redisë¡œ ìµœê·¼ ìˆ˜ê±° ìš”ì²­ ë‚´ì—­ ìºì‹±í•˜ê¸°

> ğŸ“˜ ì°¸ê³ : [Redis í™ˆí˜ì´ì§€](https://redis.io/docs/latest/)

> ğŸ“˜ ì°¸ê³ : [ë¼ì¸ ê¸°ìˆ  ë¸”ë¡œê·¸](https://engineering.linecorp.com/ko/blog/LINE-integrated-notification-center-from-redis-to-mongodb)

<br>
<br>

## ğŸ“Œ ì—…ë¬´ ìš”ì²­ ì‚¬í•­

**REST API ì„œë²„ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.**

- ì£¼ì–´ì§„ ìŠ¤í™ì— ëª…ì‹œëœ ê²ƒì²˜ëŸ¼ ëª¨ë“  ì‘ë‹µì€ JSON ë°ì´í„° í˜•ì‹ìœ¼ë¡œ í†µì…í•©ë‹ˆë‹¤.
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„ (1ì‹œê°„ ì·¨ì†Œ ì œí•œ, ìˆ˜ì • í•„ë“œ ì œí•œ ë“±)
- í•„ìš”í•  ê²½ìš°, [ì„œë¹„ìŠ¤ ë¡œì§](https://stackoverflow.com/questions/1440096/difference-between-repository-and-service) ë“±ì˜ ê´€ì‹¬ì‚¬ ë¶„ë¦¬
- ìœ ì§€ë³´ìˆ˜ì— ìš©ì´í•œ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„, ì„œë²„ ì˜ˆì™¸ ì²˜ë¦¬

<br>
<br>

## ğŸ§  Louisì˜ ë§ˆì§€ë§‰ í•œ ë§ˆë””

> ë‹¹ì‹ ì´ ë§Œë“  APIê°€, ìš°ë¦¬ ìš´ì˜íŒ€ì˜ ì¼ìƒì„ ê²°ì •í•©ë‹ˆë‹¤.
> ì„œë²„ í•˜ë‚˜ë¡œ ì…”ì¸  ì²œ ì¥ì˜ í–‰ë°©ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ê±¸ ê¸°ì–µí•˜ì„¸ìš”.

<br>
